<!DOCTYPE html>
<html>
<head>
  <title>World CO₂ Emissions Visualisations</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to bottom, #333, #444);
      margin: 0;
      padding: 0;
      color: #f0f0f0; /* Updated text color for better readability */
    }
    h1 {
      text-align: center;
      padding: 20px;
      font-size: 42px;
      color: #f0f0f0; /* Updated text color */
    }
    .header {
      background-color: #333;
      padding: 20px;
      position: relative;
      border: 3px solid #f0f0f0;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .header h1, .header h2 {
      margin: 0;
    }
    h2 {
      text-align: center;
      font-size: 20px;
      color: #f0f0f0; /* Updated text color */
      padding-bottom: 20px;
    }
    .author-info {
      color: #cccccc; /* Updated text color for better readability */
      font-size: 16px;
      position: absolute;
      top: 10px;
      right: 20px;
    }
    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      padding: 20px;
      width: 90%;
      max-width: 1400px;
      margin: 0 auto;
      box-sizing: border-box;
    }
    .chart-container {
      display: flex;
      align-items: flex-start;
      gap: 20px;
      margin-bottom: 20px;
      width: 100%;
      box-sizing: border-box;
    }
    .chart {
      background-color: #3a3a3a; /* Matching the analysis container */
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
      border: 1px solid #555;
      transition: transform 0.3s ease;
      flex: 1 1 50%;
      box-sizing: border-box;
    }
    .analysis {
      flex: 1 1 50%;
      padding: 15px;
      background-color: #3a3a3a;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
      border: 1px solid #555;
      font-size: 16px;
      box-sizing: border-box;
      max-width: 600px;
      color: #f0f0f0; /* Updated text color */
    }
    .chart:hover {
      transform: scale(1.02);
    }
    .chart-title {
      font-size: 18px;
      font-weight: 600;
      color: #cccccc; /* Updated text color for better readability */
      text-transform: uppercase;
      margin-bottom: 10px;
    }
    .download-button {
      margin-top: 10px;
      background-color: #007bff;
      color: white;
      border: none;
      padding: 8px;
      border-radius: 5px;
      cursor: pointer;
    }
    .download-button:hover {
      background-color: #0056b3;
    }
    select {
      background-color: #555;
      color: #f0f0f0; /* Updated text color */
      border: 1px solid #777;
      padding: 5px;
      border-radius: 5px;
      cursor: pointer;
    }
    select option {
      background-color: #333;
      color: #f0f0f0; /* Updated text color */
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Australia's CO₂ Emissions Versus the World</h1>
    <div class="author-info"><strong>Author: Matthew Lim | Date: 13/10/2024</strong></div>
    <h2>A comprehensive look at CO₂ emissions across the globe for different countries and years</h2>
  </div>

  <div class="container">
    <!-- World CO₂ Emissions in 2022 -->
    <div class="chart-container">
      <div id="co2_map" class="chart">
        <div class="chart-title">World CO₂ Emissions in 2022</div>
        <button class="download-button" onclick="downloadChart('co2_map')">Download Chart</button>
      </div>
      <div class="analysis">
        <h3>Analysis of World CO₂ Emissions in 2022</h3>
        <p>This map visualizes CO₂ emissions across the world in 2022. China, the USA, and India are the largest emitters, contributing significantly to global emissions. Australia, while not among the top three, still has considerable emissions, highlighting the need for continued efforts in reducing reliance on fossil fuels. The stark contrast between high and low emitters illustrates the uneven progress in tackling climate change, pointing towards the need for stronger global commitments to carbon reduction.</p>
      </div>
    </div>

    <!-- Australia CO2 Emissions per Capita by State -->
    <div class="chart-container">
      <div id="australia_co2_map" class="chart">
        <div class="chart-title">Australia CO₂ Emissions per Capita by State (2017)</div>
        <button class="download-button" onclick="downloadChart('australia_co2_map')">Download Chart</button>
      </div>
      <div class="analysis">
        <h3>Analysis of Australia's CO₂ Emissions per Capita by State</h3>
        <p>Western Australia and Queensland stand out with relatively higher per capita emissions compared to other states, possibly driven by their strong reliance on extractive industries and fossil fuel-based power generation. The lower emissions in other states suggest progress in transitioning to cleaner energy sources. The differences highlight how state-level energy policies and economic activities influence carbon footprints across Australia.</p>
      </div>
    </div>

    <!-- CO2 Emissions per Capita Over Time by State -->
    <div class="chart-container">
      <div id="co2_emissions_over_time" class="chart">
        <div class="chart-title">CO₂ Emissions per Capita Over Time by State (1990-2017)</div>
        <button class="download-button" onclick="downloadChart('co2_emissions_over_time')">Download Chart</button>
      </div>
      <div class="analysis">
        <h3>Analysis of CO₂ Emissions Over Time</h3>
        <p>Over the period from 1990 to 2017, the Northern Territory consistently exhibited higher CO₂ emissions per capita compared to other states, reflecting the impact of energy-intensive activities and low population density. In contrast, the Australian Capital Territory (ACT) has consistently had the lowest emissions per capita due to its smaller size, greater reliance on renewable energy, and focus on sustainable urban development. These differences highlight how geographic and policy factors affect carbon emissions across Australia's states and territories.</p>
      </div>
    </div>

    <!-- Annual CO2 Emissions Comparison -->
    <div class="chart-container">
      <div id="annual_co2_bar_chart" class="chart">
        <div class="chart-title">How Does Australia's Annual CO₂ Emissions Compare to Other Major Emitters (2022)</div>
        <button class="download-button" onclick="downloadChart('annual_co2_bar_chart')">Download Chart</button>
      </div>
      <div class="analysis">
        <h3>Analysis of Annual CO₂ Emissions by Country</h3>
        <p>This bar chart compares Australia's emissions to major emitters like China and France. China stands as the highest emitter with over 11 billion tons, driven by rapid industrialization and reliance on coal power. Australia’s emissions, though significantly lower, still indicate a reliance on fossil fuels. France, on the other hand, has the lowest emissions among the selected countries, largely due to its reliance on nuclear power. This comparison underscores the differing energy policies and their impact on carbon emissions.</p>
      </div>
    </div>

    <!-- CO2 Emissions per Capita by Country -->
    <div class="chart-container">
      <div id="co2_per_capita_chart" class="chart">
        <div class="chart-title">CO₂ Emissions per Capita by Country (1750 - 2022)</div>
        <button class="download-button" onclick="downloadChart('co2_per_capita_chart')">Download Chart</button>
      </div>
      <div class="analysis">
        <h3>Analysis of CO₂ Emissions per Capita</h3>
        <p>Per capita emissions show how different countries have contributed to global emissions over time. Historically, developed nations contributed the most, but recent years have seen emerging economies play an increasing role as they grow economically. Countries like the USA have high per capita emissions due to a history of industrial growth, while nations like China are catching up due to rapid development. This trend points to the need for globally coordinated climate action that balances economic growth and emission reductions.</p>
      </div>
    </div>

    <!-- Cumulative CO2 Emissions by Selected Countries -->
    <div class="chart-container">
      <div id="co2_bubble_chart" class="chart">
        <div class="chart-title">Cumulative CO₂ Emissions by Selected Countries</div>
        <button class="download-button" onclick="downloadChart('co2_bubble_chart')">Download Chart</button>
      </div>
      <div class="analysis">
        <h3>Analysis of Cumulative CO₂ Emissions</h3>
        <p>Cumulative emissions data helps us understand long-term contributions. Countries with historically high cumulative emissions often had early industrialization and extensive fossil fuel use, such as the USA and Russia. Recent trends show newer economies like China catching up, underscoring the challenge of reducing emissions while still supporting economic growth. Understanding these contributions is crucial for equitable climate policies, as they highlight which countries bear greater responsibility for historical emissions.</p>
      </div>
    </div>

    <!-- CO2 Emissions per Capita vs GDP per Capita -->
    <div class="chart-container">
      <div id="scatter_co2_vs_gdp" class="chart">
        <div class="chart-title">CO₂ Emissions per Capita vs. GDP per Capita (2022)</div>
        <button class="download-button" onclick="downloadChart('scatter_co2_vs_gdp')">Download Chart</button>
      </div>
      <div class="analysis">
        <h3>Analysis of CO₂ Emissions vs. GDP</h3>
        <p>The relationship between GDP and CO₂ emissions is complex. Wealthier nations tend to have higher per capita emissions due to industrial activity. However, some countries manage to stabilize emissions despite growth, which indicates effective climate policy and renewable energy integration. Outliers in this trend reveal opportunities for improvement, as countries like France demonstrate lower emissions per capita due to strong climate policies, while others still struggle to decouple economic growth from carbon output.</p>
      </div>
    </div>
  </div>

  <script>
    // Rendering each chart using Vega-Embed with SVG renderer and fixed dimensions
    vegaEmbed('#co2_map', 'world_co2_map.json', {renderer: 'svg', width: 500, height: 300}).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

    vegaEmbed('#annual_co2_bar_chart', 'annual_co2_bar_chart.json', {renderer: 'svg', width: 500, height: 300}).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

    vegaEmbed('#co2_per_capita_chart', 'co2_per_capita_chart.json', {renderer: 'svg', width: 500, height: 300}).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

    vegaEmbed('#co2_bubble_chart', 'co2_bubble_chart.json', {renderer: 'svg', width: 500, height: 300}).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

    vegaEmbed('#scatter_co2_vs_gdp', 'scatter_co2_vs_gdp_2022.json', {renderer: 'svg', width: 500, height: 300}).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

    vegaEmbed('#australia_co2_map', 'australia_co2_emissions_per_capita.json', {renderer: 'svg', width: 500, height: 300}).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

    vegaEmbed('#co2_emissions_over_time', 'australia_co2_emissions_trend.json', {renderer: 'svg', width: 500, height: 300}).then(function(result) {
      // Access the Vega view instance as result.view
    }).catch(console.error);

    // Function to download the chart as SVG
    function downloadChart(chartId) {
      const chartElement = document.querySelector(`#${chartId} svg`);
      if (chartElement) {
        const svgData = new XMLSerializer().serializeToString(chartElement);
        const svgBlob = new Blob([svgData], {type: 'image/svg+xml;charset=utf-8'});
        const url = URL.createObjectURL(svgBlob);

        const downloadLink = document.createElement("a");
        downloadLink.href = url;
        downloadLink.download = `${chartId}.svg`;
        document.body.appendChild(downloadLink);
        downloadLink.click();
        document.body.removeChild(downloadLink);
      } else {
        console.error("Chart not found");
      }
    }
  </script>
</body>
</html>
